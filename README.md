# Serpstat MCP Server

MCP \(Model Context Protocol\) server for integration with Serpstat API, implementing api methods for a SEO analysis.

This is alpha release v0.0.2.

## Requirements

- **Java**: 17+
- **Maven**: 3.6+
- **Serpstat API token**


### To get API token:
- If you didn't have a subscription for the plan: go to https://serpstat.com and buy a subscription or activate trial access for Team or higher plans with API access enabled.
- If you already have a subscription: go to [Your Serpstat Profile](https://serpstat.com/users/profile/) and copy it.

![location of token in your Profile](doc/images/profile.png)


## Installation and debug

1. **Install JRE 17+ if needed**
   ```bash
   sudo apt-get install openjdk-17-jre
2. **Install Maven if needed**
   ```bash
   sudo apt-get install maven
    ```
3. **Clone or create the project:**
   ```bash
   mkdir serpstat-mcp-server
   cd serpstat-mcp-server
   ```
4. **Build mcp server jar**
   ```bash
   mvn clean package
   ```
5. **Maka run script for test tool**
   ```bash
    cp inspect.sh.example inspect.sh
    chmod +x inspect.sh
    # edit file and set token
    vi inspect.sh
    ./inspect.sh
    ```
   
6. **Check console and open given url in browser**

   ```bash
   user@pc:~/repo/serpstat-mcp-server-java$ ./inspect.sh
   Starting MCP inspector...
   ‚öôÔ∏è Proxy server listening on port 6277
   üîç MCP Inspector is up and running at http://127.0.0.1:6274 üöÄ
   ```

## Configuration

### Environment variables

- `SERPSTAT_API_TOKEN` ‚Äì **required**. Authentication token for Serpstat API requests.
- `SERPSTAT_MCP_HOST` ‚Äì optional. Overrides the Jetty bind host (default `0.0.0.0`).
- `SERPSTAT_MCP_PORT` ‚Äì optional. Overrides the Jetty bind port (default `8080`).
- `SERPSTAT_MCP_BASE_URL` ‚Äì optional. Overrides the URL announced to MCP clients for the `/messages` endpoint. Set it to `relative` to emit only `/messages?...` so reverse proxies can rewrite the absolute URL, or provide a full base like `https://example.com` (trailing slash is trimmed).

## Integration into Claude Desktop for Linux

- Click the menu icon (three lines, "burger") in the top right corner of Claude Desktop to open **Settings**.
- In the menu, select **General ‚Üí Claude Settings ‚Üí Configure** (this opens your profile settings).
- In the profile settings, go to the **Developer** tab and click **Edit config** to add or update your MCP server configuration.
- Add configuration with your path to the JAR file and token. Save it.

```json
{
   "mcpServers": {
      "serpstat": {
         "command": "java",
         "args": ["-jar", "/path/to/jar/location/serpstat-mcp-server-java-0.0.2.jar"],
         "env": {
            "SERPSTAT_API_TOKEN": "PLACE_API_TOKEN_HERE",
            "LANG": "en_US.UTF-8",
            "LC_ALL": "en_US.UTF-8"
         }
      }
   }
}
```

### Integration into Claude Desktop for Windows
- [Follow the steps in Serpstat MCP Server Installation Guide for Windows](https://github.com/vitos73/serpstat-mcp-server-java/blob/main/doc/setup_instruction_win.md)
- TL;DR config for Claude Desktop is a little bit different

   ```json
   {
      "mcpServers": {
         "serpstat": {
            "command": "java",
            "args": [
               "-Dfile.encoding=UTF-8",
               "-Dconsole.encoding=UTF-8",
               "-jar",
               "c:/serpstat_mcp/serpstat-mcp-server-java-0.0.2.jar"
            ],
            "env": {
               "SERPSTAT_API_TOKEN": "PLACE_YOUR_TOKEN_HERE",
               "JAVA_TOOL_OPTIONS": "-Dfile.encoding=UTF-8"
            }
         }
      }
   }
   ```

## Make The First Report!
 Try prompt ```Would you mind to make me a comprehensive SEO report for the netpeak.bg with Serpstat?```

![Screen shot of SEO Report generated by Claude with connected Serpstat MCP Server](doc/images/report.png "Claude SEO Report Example")

[#1 Example SEO Report Artifact for domain netpeak.bg](https://claude.ai/public/artifacts/a529a323-b3e4-4690-9c0f-4152bae61ade)

You can try prompts in your language!
   ```
   Przygotujmy nowƒÖ markƒô do wej≈õcia na rynek warszawski za pomocƒÖ Serpstat. Bƒôdziemy sprzedawaƒá pierogi i wypieki. Nazwa "GorƒÖce Sztuki". 
* Przemy≈õl strategiƒô wej≈õcia na rynek.
* Zbierz semantykƒô dla niszy.
* Przeanalizuj konkurent√≥w. 
* Zbierz pominiƒôtƒÖ przez nich semantykƒô. 
* Stw√≥rz rdze≈Ñ semantyczny i sklastruj
   ```
![Screen shot of SEO Strategy Report generated by Claude with connected Serpstat MCP Server in Polish](doc/images/report2.png)

[#2 Example SEO Strategy for new brand](https://claude.ai/public/artifacts/ff2a06fa-3d56-4fe2-8d42-8d076e18cfe7)

## Included Tools (v.0.0.2) 

### `get_domains_info`
Get comprehensive domain information using Serpstat API. Returns visibility, keywords count, estimated traffic,
dynamics, and PPC data for multiple domains.

### `domain_regions_count`
Analyze domain keyword presence across all Google regional databases. Shows keyword count by country, regional
performance comparison, and international SEO insights. Start every complex domain analysis with this tool.

### `domain_keywords`
Get keywords that domain ranks for in Google search results. Includes position, traffic, difficulty analysis with
comprehensive SEO insights and performance metrics.

### `get_domain_competitors`
Get top 20 domain competitors from search results with SEO metrics, traffic, visibility, and relevance score.

### `get_backlinks_summary`
Get a comprehensive backlinks summary using Serpstat API. Returns referring domains, backlinks count, link types,
quality metrics, and recent changes for domain or subdomain.

### `api_stats`
Get current API usage statistics and credit limits. Shows remaining credits, usage percentage, and provides
recommendations for optimal usage.

### `projects_list`
Get a list of user projects with details like project ID, name, domain, creation date, and user role. Useful for project management and getting project IDs for other API calls. Does not consume API credits.",

### `get_keywords` üÜï
Research related keywords and get search volume, CPC, competition data. Shows organic keywords associated with the seed
keyword that domains rank for in Google's top-100 results. Includes volume, cost per click, difficulty, and SERP
features analysis. Costs 1 API credit per keyword returned.

### `keyword_competitors` üÜï
Analyze domains competing for a specific keyword in Google search results. Returns top-20 competitors with comprehensive
SEO metrics including visibility scores, traffic estimates, relevance analysis, and market dynamics. Provides intelligent
competition level assessment (LOW/MEDIUM/HIGH/VERY_HIGH), identifies advertising competition patterns, analyzes market
trends based on competitor dynamics, and categorizes competitors by performance tiers. Supports advanced filtering by
domain lists, traffic ranges, visibility thresholds, and relevance scores. Each competitor costs 1 API credit with a
minimum charge of 1 credit per request (even for empty results). Essential for competitive analysis, keyword difficulty
assessment, and market opportunity identification.

### `get_related_keywords` üÜï

Find semantically related keywords to expand the content strategy. Returns keywords with search volume, cost per click,
connection strength, difficulty scores, and comprehensive semantic analysis. Shows all search queries that are
semantically related to the searched keyword with detailed analytics on relationship strength (weight), search intent
distribution, SERP features presence, and geographic relevance. Includes advanced filtering by volume ranges, difficulty
levels, connection strength, keyword patterns, intents, and SERP features. Provides intelligent content strategy
recommendations based on semantic clustering: semantic expansion for strongly connected keywords, quick wins for
low-difficulty opportunities, local targeting for geo-focused terms, and long-tail strategies for niche markets. Each
keyword costs 1 API credit with a minimum charge of one credit per request (even for empty results). Essential for content
gap analysis, semantic SEO planning, and comprehensive keyword universe mapping.

## Logging

Logs are written to:
- **File** `logs/serpstat-mcp-server.log` \(all levels\)

Log files are automatically rotated by day and size.

## Error Handling

The server handles the following types of errors:
- Missing or invalid API token.
- Invalid request parameters.
- Network and HTTP errors.
- Serpstat API errors.
- Internal server errors.


## Integration

**Set the environment variable with the API token:**

Run the following command in the terminal \(replace `your_serpstat_api_token_here` with your token\):

```bash
export SERPSTAT_API_TOKEN=your_serpstat_api_token_here
```

## Security

- The API token is passed via an environment variable.
- The token is not fully logged.
- All HTTP requests use HTTPS.
- Timeouts are configured to prevent hanging.


## Support
The most effective way to receive support from Serpstat is to use their live chat feature directly within the platform. 

Alternatively, you can email them at [support@serpstat.com](mailto:support@serpstat.com)

## License

MIT License

- This thing is under MIT license, which means you can copy, use, modify, and even sell any part of this code without any hassle. 
- Want to grab a chunk for your project? Go for it. 
- Want to rewrite half of it and ship a commercial product? Be my guest. 
- The only thing you need to do is not delete the copyright and the license itself from the files you take, and remember the Serpstat team with a kind word when you get that paycheck.


_With love, Serpstat R&D Team_